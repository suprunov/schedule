import React, {useState} from 'react';
import {makeStyles} from '@material-ui/core/styles';
import Tooltip from '@material-ui/core/Tooltip';
import Button from '@material-ui/core/Button';
import ButtonGroup from '@material-ui/core/ButtonGroup';
import Paper from '@material-ui/core/Paper';
import {I} from '../../I'
import {Grid} from "@material-ui/core";
import {Schedule} from "./Schedule";
import {Code} from "./Code";
import {Editor} from "./Editor";
import moment from 'moment'

const config = {
    "minTime": 8,
    "maxTime": 22,
    "startDate": moment().format("MM-DD-YYYY"),
    "units": [
        {
            "label": "Академическая",
            "color": "#ff9900",
            "schedule": [
                "2021-03-22T06:00:00.000Z",
                "2021-03-22T07:00:00.000Z",
                "2021-03-22T08:00:00.000Z",
                "2021-03-22T09:00:00.000Z",
                "2021-03-22T10:00:00.000Z",
                "2021-03-22T11:00:00.000Z",
                "2021-03-22T12:00:00.000Z",
                "2021-03-22T13:00:00.000Z",
                "2021-03-22T14:00:00.000Z",
                "2021-03-22T15:00:00.000Z",
                "2021-03-23T06:00:00.000Z",
                "2021-03-23T07:00:00.000Z",
                "2021-03-23T08:00:00.000Z",
                "2021-03-23T09:00:00.000Z",
                "2021-03-23T10:00:00.000Z",
                "2021-03-23T11:00:00.000Z",
                "2021-03-23T12:00:00.000Z",
                "2021-03-23T13:00:00.000Z",
                "2021-03-23T14:00:00.000Z",
                "2021-03-23T15:00:00.000Z",
                "2021-03-24T06:00:00.000Z",
                "2021-03-24T07:00:00.000Z",
                "2021-03-24T08:00:00.000Z",
                "2021-03-24T09:00:00.000Z",
                "2021-03-24T10:00:00.000Z",
                "2021-03-24T11:00:00.000Z",
                "2021-03-24T12:00:00.000Z",
                "2021-03-24T13:00:00.000Z",
                "2021-03-24T14:00:00.000Z",
                "2021-03-24T15:00:00.000Z",
                "2021-03-25T06:00:00.000Z",
                "2021-03-25T07:00:00.000Z",
                "2021-03-25T08:00:00.000Z",
                "2021-03-25T09:00:00.000Z",
                "2021-03-25T10:00:00.000Z",
                "2021-03-25T11:00:00.000Z",
                "2021-03-25T12:00:00.000Z",
                "2021-03-25T13:00:00.000Z",
                "2021-03-25T14:00:00.000Z",
                "2021-03-25T15:00:00.000Z",
                "2021-03-26T06:00:00.000Z",
                "2021-03-26T07:00:00.000Z",
                "2021-03-26T08:00:00.000Z",
                "2021-03-26T09:00:00.000Z",
                "2021-03-26T10:00:00.000Z",
                "2021-03-26T11:00:00.000Z",
                "2021-03-26T12:00:00.000Z",
                "2021-03-26T13:00:00.000Z",
                "2021-03-26T14:00:00.000Z",
                "2021-03-26T15:00:00.000Z"
            ]
        },
        {
            "label": "Спортивная",
            "color": "#ff0000",
            "schedule": [
                "2021-03-22T07:00:00.000Z",
                "2021-03-22T08:00:00.000Z",
                "2021-03-22T09:00:00.000Z",
                "2021-03-22T10:00:00.000Z",
                "2021-03-22T11:00:00.000Z",
                "2021-03-22T12:00:00.000Z",
                "2021-03-22T13:00:00.000Z",
                "2021-03-22T14:00:00.000Z",
                "2021-03-22T15:00:00.000Z",
                "2021-03-22T16:00:00.000Z",
                "2021-03-23T07:00:00.000Z",
                "2021-03-23T08:00:00.000Z",
                "2021-03-23T09:00:00.000Z",
                "2021-03-23T10:00:00.000Z",
                "2021-03-23T11:00:00.000Z",
                "2021-03-23T12:00:00.000Z",
                "2021-03-23T13:00:00.000Z",
                "2021-03-23T14:00:00.000Z",
                "2021-03-23T15:00:00.000Z",
                "2021-03-23T16:00:00.000Z",
                "2021-03-24T07:00:00.000Z",
                "2021-03-24T08:00:00.000Z",
                "2021-03-24T09:00:00.000Z",
                "2021-03-24T10:00:00.000Z",
                "2021-03-24T11:00:00.000Z",
                "2021-03-24T12:00:00.000Z",
                "2021-03-24T13:00:00.000Z",
                "2021-03-24T14:00:00.000Z",
                "2021-03-24T15:00:00.000Z",
                "2021-03-24T16:00:00.000Z",
                "2021-03-25T07:00:00.000Z",
                "2021-03-25T08:00:00.000Z",
                "2021-03-25T09:00:00.000Z",
                "2021-03-25T10:00:00.000Z",
                "2021-03-25T11:00:00.000Z",
                "2021-03-25T12:00:00.000Z",
                "2021-03-25T13:00:00.000Z",
                "2021-03-25T14:00:00.000Z",
                "2021-03-25T15:00:00.000Z",
                "2021-03-25T16:00:00.000Z",
                "2021-03-26T07:00:00.000Z",
                "2021-03-26T08:00:00.000Z",
                "2021-03-26T09:00:00.000Z",
                "2021-03-26T10:00:00.000Z",
                "2021-03-26T11:00:00.000Z",
                "2021-03-26T12:00:00.000Z",
                "2021-03-26T13:00:00.000Z",
                "2021-03-26T14:00:00.000Z",
                "2021-03-26T15:00:00.000Z",
                "2021-03-26T16:00:00.000Z"
            ]
        },
        {
            "label": "Павелецкая",
            "color": "#034f1e",
            "schedule": [
                "2021-03-22T06:00:00.000Z",
                "2021-03-22T07:00:00.000Z",
                "2021-03-22T08:00:00.000Z",
                "2021-03-22T09:00:00.000Z",
                "2021-03-22T10:00:00.000Z",
                "2021-03-22T11:00:00.000Z",
                "2021-03-22T12:00:00.000Z",
                "2021-03-22T13:00:00.000Z",
                "2021-03-22T14:00:00.000Z",
                "2021-03-22T15:00:00.000Z",
                "2021-03-23T06:00:00.000Z",
                "2021-03-23T07:00:00.000Z",
                "2021-03-23T08:00:00.000Z",
                "2021-03-23T09:00:00.000Z",
                "2021-03-23T10:00:00.000Z",
                "2021-03-23T11:00:00.000Z",
                "2021-03-23T12:00:00.000Z",
                "2021-03-23T13:00:00.000Z",
                "2021-03-23T14:00:00.000Z",
                "2021-03-23T15:00:00.000Z",
                "2021-03-24T06:00:00.000Z",
                "2021-03-24T07:00:00.000Z",
                "2021-03-24T08:00:00.000Z",
                "2021-03-24T09:00:00.000Z",
                "2021-03-24T10:00:00.000Z",
                "2021-03-24T11:00:00.000Z",
                "2021-03-24T12:00:00.000Z",
                "2021-03-24T13:00:00.000Z",
                "2021-03-24T14:00:00.000Z",
                "2021-03-24T15:00:00.000Z",
                "2021-03-25T06:00:00.000Z",
                "2021-03-25T07:00:00.000Z",
                "2021-03-25T08:00:00.000Z",
                "2021-03-25T09:00:00.000Z",
                "2021-03-25T10:00:00.000Z",
                "2021-03-25T11:00:00.000Z",
                "2021-03-25T12:00:00.000Z",
                "2021-03-25T13:00:00.000Z",
                "2021-03-25T14:00:00.000Z",
                "2021-03-25T15:00:00.000Z",
                "2021-03-26T06:00:00.000Z",
                "2021-03-26T07:00:00.000Z",
                "2021-03-26T08:00:00.000Z",
                "2021-03-26T09:00:00.000Z",
                "2021-03-26T10:00:00.000Z",
                "2021-03-26T11:00:00.000Z",
                "2021-03-26T12:00:00.000Z",
                "2021-03-26T13:00:00.000Z",
                "2021-03-26T14:00:00.000Z",
                "2021-03-26T15:00:00.000Z",
                "2021-03-27T06:00:00.000Z",
                "2021-03-27T07:00:00.000Z",
                "2021-03-27T08:00:00.000Z",
                "2021-03-27T09:00:00.000Z",
                "2021-03-27T10:00:00.000Z",
                "2021-03-27T11:00:00.000Z",
                "2021-03-27T12:00:00.000Z",
                "2021-03-27T13:00:00.000Z",
                "2021-03-27T14:00:00.000Z",
                "2021-03-27T15:00:00.000Z"
            ]
        },
        {
            "label": "Киевская",
            "color": "#0546cd",
            "schedule": [
                "2021-03-22T08:00:00.000Z",
                "2021-03-22T09:00:00.000Z",
                "2021-03-22T10:00:00.000Z",
                "2021-03-22T11:00:00.000Z",
                "2021-03-22T12:00:00.000Z",
                "2021-03-22T13:00:00.000Z",
                "2021-03-22T14:00:00.000Z",
                "2021-03-22T15:00:00.000Z",
                "2021-03-22T16:00:00.000Z",
                "2021-03-22T17:00:00.000Z",
                "2021-03-23T08:00:00.000Z",
                "2021-03-23T09:00:00.000Z",
                "2021-03-23T10:00:00.000Z",
                "2021-03-23T11:00:00.000Z",
                "2021-03-23T12:00:00.000Z",
                "2021-03-23T13:00:00.000Z",
                "2021-03-23T14:00:00.000Z",
                "2021-03-23T15:00:00.000Z",
                "2021-03-23T16:00:00.000Z",
                "2021-03-23T17:00:00.000Z",
                "2021-03-24T08:00:00.000Z",
                "2021-03-24T09:00:00.000Z",
                "2021-03-24T10:00:00.000Z",
                "2021-03-24T11:00:00.000Z",
                "2021-03-24T12:00:00.000Z",
                "2021-03-24T13:00:00.000Z",
                "2021-03-24T14:00:00.000Z",
                "2021-03-24T15:00:00.000Z",
                "2021-03-24T16:00:00.000Z",
                "2021-03-24T17:00:00.000Z",
                "2021-03-25T08:00:00.000Z",
                "2021-03-25T09:00:00.000Z",
                "2021-03-25T10:00:00.000Z",
                "2021-03-25T11:00:00.000Z",
                "2021-03-25T12:00:00.000Z",
                "2021-03-25T13:00:00.000Z",
                "2021-03-25T14:00:00.000Z",
                "2021-03-25T15:00:00.000Z",
                "2021-03-25T16:00:00.000Z",
                "2021-03-25T17:00:00.000Z",
                "2021-03-26T08:00:00.000Z",
                "2021-03-26T09:00:00.000Z",
                "2021-03-26T10:00:00.000Z",
                "2021-03-26T11:00:00.000Z",
                "2021-03-26T12:00:00.000Z",
                "2021-03-26T13:00:00.000Z",
                "2021-03-26T14:00:00.000Z",
                "2021-03-26T15:00:00.000Z",
                "2021-03-26T16:00:00.000Z",
                "2021-03-26T17:00:00.000Z",
                "2021-03-27T08:00:00.000Z",
                "2021-03-27T09:00:00.000Z",
                "2021-03-27T10:00:00.000Z",
                "2021-03-27T11:00:00.000Z",
                "2021-03-27T12:00:00.000Z",
                "2021-03-27T13:00:00.000Z",
                "2021-03-27T14:00:00.000Z",
                "2021-03-27T15:00:00.000Z",
                "2021-03-27T16:00:00.000Z",
                "2021-03-27T17:00:00.000Z",
                "2021-03-28T08:00:00.000Z",
                "2021-03-28T09:00:00.000Z",
                "2021-03-28T10:00:00.000Z",
                "2021-03-28T11:00:00.000Z",
                "2021-03-28T12:00:00.000Z",
                "2021-03-28T13:00:00.000Z",
                "2021-03-28T14:00:00.000Z",
                "2021-03-28T15:00:00.000Z",
                "2021-03-28T16:00:00.000Z",
                "2021-03-28T17:00:00.000Z"
            ]
        }
    ]
};

export const Work = () => {
    const useStyles = makeStyles((theme) => ({
        root: {
            flexGrow: 1,
        },
        paper: {
            padding: theme.spacing(2),
            color: theme.palette.text.secondary,
            height: '85vh'
        },
    }));
    const classes = useStyles();
    const [show, setShow] = useState(false)
    const switchVisibility = () => setShow(show => !show);
    return (
        <div className={classes.root}>
            <Grid container spacing={3} direction="row" alignItems="baseline" justify="space-between">
                <Grid item>
                    <ButtonGroup color="primary">
                        <Tooltip title={'Редактор'} arrow>
                            <Button variant={show ? 'outlined' : 'contained'}
                                    onClick={switchVisibility}><I>edit</I></Button>
                        </Tooltip>
                        <Tooltip title={'Результат'} arrow>
                            <Button variant={show ? 'contained' : 'outlined'} onClick={switchVisibility}><I>preview</I></Button>
                        </Tooltip>
                    </ButtonGroup>
                </Grid>
            </Grid>
            <Grid container spacing={3}>
                <Grid item xs style={{display: show ? 'none' : 'block'}}>
                    <Paper className={classes.paper}><Editor config={config}/></Paper>
                </Grid>
                <Grid item xs style={{display: show ? 'block' : 'none'}}>
                    <Paper className={classes.paper}><Schedule config={config}/></Paper>
                </Grid>
                <Grid item xs style={{display: show ? 'block' : 'none'}}>
                    <Paper className={classes.paper}><Code config={config} value={JSON.stringify(config, null, 2)} /></Paper>
                </Grid>
            </Grid>
        </div>
    );
}

